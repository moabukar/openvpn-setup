# OpenVPN Server Configuration
port 1194
proto udp
dev tun

# SSL/TLS root certificate (ca), certificate (cert), and private key (key)
ca ca.crt
cert server.crt
key server.key
dh dh.pem

# Network topology
topology subnet

# Configure server mode for ethernet bridging
server 10.8.0.0 255.255.255.0

# Maintain a record of client <-> virtual IP address
ifconfig-pool-persist /var/log/openvpn/ipp.txt

# Push routes to the client
push "redirect-gateway def1 bypass-dhcp"
push "dhcp-option DNS 8.8.8.8"
push "dhcp-option DNS 8.8.4.4"

# Client-to-client communication
client-to-client

# Keep alive settings
keepalive 10 120

# TLS authentication
tls-auth ta.key 0
key-direction 0

# Cipher settings
cipher AES-256-GCM
auth SHA256

# Enable compression
compress lz4-v2
push "compress lz4-v2"

# Maximum number of concurrently connected clients
max-clients 50

# User and group to run as
user nobody
group nogroup

# Persist certain options
persist-key
persist-tun

# Output a short status file
status /var/log/openvpn/openvpn-status.log

# Log settings
log-append /var/log/openvpn/openvpn.log
verb 3
explicit-exit-notify 1

# Performance optimization
sndbuf 393216
rcvbuf 393216
push "sndbuf 393216"
push "rcvbuf 393216"
fast-io

# MTU optimization
tun-mtu 1500
mssfix 1450

# Security enhancements
tls-version-min 1.2
tls-cipher TLS-ECDHE-RSA-WITH-AES-256-GCM-SHA384
